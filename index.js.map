{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43801311-7231ce11da623161c2dfbe05c';\n\n/* функції для HTTP-запитів  -> */\nexport function fetchData(encoderSearch = '') {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: encoderSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n      console.log('response', response);\n\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log('error', error);\n    });\n}\n/* <- */\n","/* ----- SimpleLightbox ----- */\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryLightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n/* функції для відображення елементів інтерфейсу -> */\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\">\n          </a>\n          <ul class=\"gallery-description-list\">\n            <li class=\"gallery-description-item\">\n              <p class=\"gallery-description-headline\">Likes</p>\n              <p class=\"gallery-description-quantity\">${likes}</p>\n            </li>\n            <li class=\"gallery-description-item\">\n              <p class=\"gallery-description-headline\">Views</p>\n              <p class=\"gallery-description-quantity\">${views}</p>\n            </li>\n            <li class=\"gallery-description-item\">\n              <p class=\"gallery-description-headline\">Comments</p>\n              <p class=\"gallery-description-quantity\">${comments}</p>\n            </li>\n            <li class=\"gallery-description-item\">\n              <p class=\"gallery-description-headline\">Downloads</p>\n              <p class=\"gallery-description-quantity\">${downloads}</p>\n            </li>\n          </ul>\n        </li>\n      `\n    )\n    .join('');\n}\n/* <- */\n","/* ----- iziToast ----- */\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n/* ----- iziToast ----- */\nimport { fetchData } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst input = document.querySelector('.submit-input');\n\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const encoderSearch = event.target.elements.search.value.trim();\n  console.log('encoderSearch', encoderSearch);\n\n  fetchData(encoderSearch)\n    .then(data => {\n      console.log('then', data);\n\n      if (data.hits.length === 0) {\n        showMessage();\n        return;\n      }\n\n      gallery.innerHTML = createMarkup(data.hits);\n    })\n    .catch(error => {\n      console.log('catch', error);\n      showMessage();\n    });\n  input.value = '';\n}\n\nfunction showMessage() {\n  iziToast.show({\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    titleSize: '16px',\n    messageColor: '#fff',\n    backgroundColor: '#ef4040',\n    position: 'topRight',\n    timeout: '3000',\n    closeOnClick: 'true',\n    progressBarColor: '#fff',\n    transitionIn: 'bounceInDown',\n    transitionOut: 'flipOutX',\n  });\n}\n\n/* функції для HTTP-запитів  -> */\n// function fetchData(encoderSearch = '') {\n//   const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: encoderSearch,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//   });\n\n//   return fetch(`${BASE_URL}/?${params}`)\n//     .then(response => {\n//       // console.log('response', response);\n\n//       if (!response.ok) {\n//         throw new Error(response.statusText);\n//       }\n//       return response.json();\n//     })\n//     .catch(error => {\n//       console.log('error', error);\n//     });\n// }\n/* <- */\n\n/* функції для відображення елементів інтерфейсу -> */\n// function createMarkup(arr) {\n//   return arr\n//     .map(\n//       ({ previewURL, tags }) => `\n//         <li class=\"gallery-item\">\n//           <img src=\"${previewURL}\" alt=\"${tags}\" width=\"360\">\n//         </li>\n//       `\n//     )\n//     .join('');\n// }\n/* <- */\n"],"names":["BASE_URL","API_KEY","fetchData","encoderSearch","params","response","error","SimpleLightbox","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","input","handleSearch","event","data","showMessage","iziToast"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAGT,SAASC,EAAUC,EAAgB,GAAI,CAC5C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EACjC,KAAKC,GAAY,CAGhB,GAFA,QAAQ,IAAI,WAAYA,CAAQ,EAE5B,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAI,QAASA,CAAK,CAChC,CAAK,CACL,CCrBwB,IAAIC,EAAe,gBAAiB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,0CAE8BL,CAAa;AAAA,wBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wDAKMC,CAAK;AAAA;AAAA;AAAA;AAAA,wDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK5D,EACA,KAAK,EAAE,CACZ,CCxCA,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAQ,SAAS,cAAc,eAAe,EAEpDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMlB,EAAgBkB,EAAM,OAAO,SAAS,OAAO,MAAM,OACzD,QAAQ,IAAI,gBAAiBlB,CAAa,EAE1CD,EAAUC,CAAa,EACpB,KAAKmB,GAAQ,CAGZ,GAFA,QAAQ,IAAI,OAAQA,CAAI,EAEpBA,EAAK,KAAK,SAAW,EAAG,CAC1BC,IACA,MACD,CAEDL,EAAQ,UAAYV,EAAac,EAAK,IAAI,CAChD,CAAK,EACA,MAAMhB,GAAS,CACd,QAAQ,IAAI,QAASA,CAAK,EAC1BiB,GACN,CAAK,EACHJ,EAAM,MAAQ,EAChB,CAEA,SAASI,GAAc,CACrBC,EAAS,KAAK,CACZ,QAAS,2EACT,UAAW,OACX,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAS,OACT,aAAc,OACd,iBAAkB,OAClB,aAAc,eACd,cAAe,UACnB,CAAG,CACH"}